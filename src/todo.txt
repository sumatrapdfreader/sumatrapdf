Short term todo (before next 0.8 release):
* finish find
  * better/different buttons for next/prev find
* crash reporting with breakpad
 - on startup check for crash dumps and tries to submit them. Delete crash file
   (even if submission failed)
* check for new version on-line
* finish TOC:
  * an easy way to close TOC (I like the header with close button like in
    e editor http://www.e-texteditor.com/wiki/index.php/Projects)
  * when TOC is shown, keyboard navigation shortcuts don't work. We need to
    be smarter about focus handling
  * remember toc state for a given document in prefs
* preserve fullScreen info per document and respect it when opening a PDF
* the new icon is kinda big (286 kB) caused mostly by new high-res Vista
  icon saved uncompressed (I think). Need to figure out if that's really
  a program (rc.exe might be smart enough to compress it). If yes, need to
  figure out how to save space (maybe save 32bit icons in vista format as PNGs
  and standard XP icon as a standard *.ico format).
* maybe: remove link-time dependency on msimg32.dll (has AlphaBlend, GradientFill
  and TransparentBlt). Instead, dynamically load the functions. Needed for
  working on NT. On the other hand: is NT worth supporting?
* useFitz should also be remembered per file and when switching rendering
  engine, we should only re-load current file.

Long term todo:
* handle links
* move DisplayState into DisplayModel and use it directly, instead of 
  duplicating the fields in DisplayModel. Rename to SerializedState.
* show keybindings in help
* better, animated about screen
* a nicer way to show selected text
* make dialog-boxes translatable
* replace DString with something better (sstr ?) and provide C++ wrapper
  to make it easier to use in C++ code without all those annoying DStringInit()
  calls
* move fitz code to a separate Google code project (fitz-kjk?) and link to it
  via svn:externals, like we do for poppler. fitz should be trunk and fitz-head
  should become branches/devel. Add standalone makefiles etc. so that it can
  be tested and worked on independently of Sumatra. Preserving history of
  changes for fitz code might be challenging - I'm not sure if google import
  will handle 2 branches. In the worst case I can write a script to reply
  checkins.

Maybe:
* use MultiByteToWideChar() 
  (http://msdn2.microsoft.com/en-us/library/ms776413.aspx) with CP_UTF8
  for utf8->utf16 conversion
* update poppler to latest version
* speedup poppler
* improve fitz to handle more PDFs
* DisplayState::visible could be removed. It was used when we were automatically
  reopening previously opened files, but we don't do it anymore, so we don't
  have to track it.
  
